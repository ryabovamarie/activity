(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],a[r]&&p.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={app:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/activity/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00b1":function(t,e,s){},"034f":function(t,e,s){"use strict";var i=s("64a9"),a=s.n(i);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("h1",{staticClass:"page-title"},[t._v("Activity planner")]),s("Filters",{on:{"update-filter":t.updateFilter}}),s("main",{staticClass:"page-main"},[s("AddTask",{staticClass:"page-main__new",attrs:{categories:t.categories},on:{"add-task":t.addTask}}),s("TaskList",{staticClass:"page-main__list",attrs:{tasks:t.filteredTasks},on:{"remove-task":t.removeTask,"update-task":t.updateTask}})],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"page-header"},[s("div",{staticClass:"page-header__wrapper"},[t.opened?t._e():s("button",{staticClass:"page-header__toggle",attrs:{type:"button"},on:{click:function(e){t.opened=!t.opened}}},[t._v("Открыть меню")]),t.opened?s("button",{staticClass:"page-header__toggle",attrs:{type:"button"},on:{click:function(e){t.opened=!t.opened}}},[t._v("Закрыть меню")]):t._e(),t.show?s("form",{staticClass:"filters"},[s("div",{staticClass:"filters__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filters__input",attrs:{type:"radio",name:"filters",value:"all",id:"all",checked:""},domProps:{checked:t._q(t.filter,"all")},on:{change:function(e){t.filter="all"}}}),s("label",{staticClass:"filters__text",attrs:{for:"all"}},[t._v("Все")])]),s("div",{staticClass:"filters__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filters__input",attrs:{type:"radio",name:"filters",value:"in-progress",id:"in-progress"},domProps:{checked:t._q(t.filter,"in-progress")},on:{change:function(e){t.filter="in-progress"}}}),s("label",{staticClass:"filters__text",attrs:{for:"in-progress"}},[t._v("В процессе")])]),s("div",{staticClass:"filters__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filters__input",attrs:{type:"radio",name:"filters",value:"finished",id:"finished"},domProps:{checked:t._q(t.filter,"finished")},on:{change:function(e){t.filter="finished"}}}),s("label",{staticClass:"filters__text",attrs:{for:"finished"}},[t._v("Завершенные")])]),s("div",{staticClass:"filters__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filters__input",attrs:{type:"radio",name:"filters",value:"not-started",id:"not-started"},domProps:{checked:t._q(t.filter,"not-started")},on:{change:function(e){t.filter="not-started"}}}),s("label",{staticClass:"filters__text",attrs:{for:"not-started"}},[t._v("Не начатые")])])]):t._e()])])},o=[],l={data:function(){return{opened:!1,windowWidth:window.innerWidth,filter:"all"}},mounted:function(){var t=this;window.onresize=function(e){t.windowWidth=window.innerWidth}},computed:{show:function(){return this.opened||this.windowWidth>500}},watch:{filter:function(t){this.$emit("update-filter",t)}}},c=l,u=(s("e4c4"),s("2877")),d=Object(u["a"])(c,r,o,!1,null,null,null),p=d.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-task"},[t.isOpened?t._e():s("button",{staticClass:"new-task__open new-task__button",attrs:{type:"button"},on:{click:function(e){t.isOpened=!t.isOpened}}},[t._v("Новая задача")]),t.isOpened?s("form",{staticClass:"new-task__fields",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("label",{staticClass:"new-task__wrapper"},[s("span",{staticClass:"new-task__value"},[t._v("Заголовок")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"new-task__text new-task__border-style",attrs:{type:"text",placeholder:"Прочитать книгу"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("label",{staticClass:"new-task__wrapper"},[s("span",{staticClass:"new-task__value"},[t._v("Заметки")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"new-task__text new-task__text--area new-task__border-style",attrs:{placeholder:"Я сделаю это за 5 дней"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),s("div",{staticClass:"new-task__wrapper"},[s("span",{staticClass:"new-task__value"},[t._v("Категория")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"new-task__category new-task__border-style",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.category=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Выберете категорию")]),t._l(t.categories,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),s("div",{staticClass:"new-task__buttons"},[s("button",{staticClass:"new-task__submit new-task__button",attrs:{type:"submit",disabled:t.isDisabled}},[t._v("Создать")]),s("button",{staticClass:"new-task__cancel new-task__button",on:{click:function(e){t.isOpened=!t.isOpened}}},[t._v("Отмена")])])]):t._e()])},f=[],m={props:["categories"],data:function(){return{isOpened:!1,title:"",description:"",category:""}},computed:{isDisabled:function(){return!(this.title&&this.description&&this.category)}},methods:{onSubmit:function(){if(this.title.trim()){var t={id:Date.now(),title:this.title,category:this.category,description:this.description,date:new Date,progress:0};this.$emit("add-task",t)}this.title="",this.description="",this.category="",this.isOpened=!1}}},v=m,h=(s("6110"),Object(u["a"])(v,_,f,!1,null,null,null)),g=h.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tasks"},[s("ul",{staticClass:"tasks__list"},t._l(t.tasks,function(e){return s("Task",{staticClass:"tasks__item",attrs:{item:e},on:{"remove-task":t.removeTask,"update-task":t.updateTask}})}),1),s("p",{staticClass:"tasks__total"},[t._v("Всего задач: "+t._s(t.tasks.length))])])},w=[],b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"task"},[i("div",{staticClass:"task__wrapper"},[i("div",{staticClass:"task__wrapper--top"},[t.isEdit?t._e():i("h2",{staticClass:"task__title"},[t._v(t._s(t.item.title))]),t.isEdit?i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"task__text",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}):t._e(),i("p",{staticClass:"task__category"},[t._v(t._s(t.item.category))]),t.isEdit?t._e():i("p",{staticClass:"task__description"},[t._v(t._s(t.item.description))]),t.isEdit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"task__text task__text--area",domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}):t._e()]),t.isEdit?t._e():i("div",{staticClass:"task__buttons"},[i("button",{staticClass:"task__edit",on:{click:function(e){t.isEdit=!t.isEdit}}},[i("img",{attrs:{width:"25px",height:"25px",src:s("8934"),alt:"редактировать"}})]),i("button",{staticClass:"task__delete",on:{click:function(e){return t.$emit("remove-task",t.item.id)}}},[i("img",{attrs:{width:"25px",height:"25px",src:s("fdc0"),alt:"удалить"}})])])]),i("div",{staticClass:"task__wrapper task__wrapper--bottom"},[i("p",{staticClass:"task__date"},[t._v(t._s(t._f("toString")(t.item.date)))]),t.isEdit?i("input",{directives:[{name:"model",rawName:"v-model",value:t.progress,expression:"progress"}],staticClass:"task__range",attrs:{type:"range",min:"0",max:"100",step:"10"},domProps:{value:t.progress},on:{__r:function(e){t.progress=e.target.value}}}):t._e(),i("p",{staticClass:"task__progress"},[t._v("Прогресс: "),i("span",{style:{color:t.fontColor}},[t._v(t._s(t.progress)+"%")])])]),t.isEdit?i("div",{staticClass:"task__edit-buttons"},[i("button",{staticClass:"task__update",on:{click:t.updateTask}},[t._v("Обновить")]),i("button",{staticClass:"task__cancel",on:{click:t.cancel}},[t._v("Отмена")])]):t._e()])},C=[],y={props:{item:{type:Object,required:!0}},data:function(){return{isEdit:!1,title:this.item.title,description:this.item.description,progress:this.item.progress}},computed:{fontColor:function(){return this.progress<30?"red":this.progress<80?"orange":"green"}},filters:{toString:function(t){return t.toLocaleString("ru",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}},methods:{updateTask:function(){var t={title:this.title,description:this.description,id:this.item.id,progress:parseInt(this.progress)};this.$emit("update-task",t),this.isEdit=!1},cancel:function(){this.title=this.item.title,this.description=this.item.description,this.progress=this.item.progress,this.isEdit=!1}}},x=y,O=(s("a95a"),Object(u["a"])(x,b,C,!1,null,null,null)),T=O.exports,S={props:["tasks"],components:{Task:T},methods:{removeTask:function(t){this.$emit("remove-task",t)},updateTask:function(t){this.$emit("update-task",t)}}},E=S,P=(s("9c38"),Object(u["a"])(E,k,w,!1,null,null,null)),N=P.exports,j={name:"app",data:function(){return{tasks:[],categories:["Книги","Фильмы","Учеба","Работа"],filter:"all"}},components:{Filters:p,AddTask:g,TaskList:N},methods:{removeTask:function(t){this.tasks=this.tasks.filter(function(e){return e.id!==t}),localStorage.removeItem(t)},addTask:function(t){this.tasks.push(t),localStorage.setItem(t.id,JSON.stringify(t))},updateTask:function(t){this.tasks=this.tasks.map(function(e){return e.id===t.id&&(e.title=t.title,e.description=t.description,e.progress=t.progress,e.date=new Date,localStorage.setItem(e.id,JSON.stringify(e))),e})},updateFilter:function(t){this.filter=t}},computed:{filteredTasks:function(){return"all"===this.filter?this.tasks:"finished"===this.filter?this.tasks.filter(function(t){return 100===t.progress}):"in-progress"===this.filter?this.tasks.filter(function(t){return t.progress<100&&t.progress>0}):"not-started"===this.filter?this.tasks.filter(function(t){return 0===t.progress}):void 0}},mounted:function(){for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t);isNaN(parseInt(e))||null===localStorage[e]||this.tasks.push(JSON.parse(localStorage[e],function(t,e){return"date"==t?new Date(e):e}))}}},$=j,D=(s("034f"),Object(u["a"])($,a,n,!1,null,null,null)),q=D.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(q)}}).$mount("#app")},6110:function(t,e,s){"use strict";var i=s("86cc3"),a=s.n(i);a.a},"64a9":function(t,e,s){},"86cc3":function(t,e,s){},8934:function(t,e,s){t.exports=s.p+"img/settings-work-tool.c1ad0b75.svg"},"94a7":function(t,e,s){},"9c38":function(t,e,s){"use strict";var i=s("00b1"),a=s.n(i);a.a},a95a:function(t,e,s){"use strict";var i=s("94a7"),a=s.n(i);a.a},c187:function(t,e,s){},e4c4:function(t,e,s){"use strict";var i=s("c187"),a=s.n(i);a.a},fdc0:function(t,e,s){t.exports=s.p+"img/waste-bin.ad027048.svg"}});
//# sourceMappingURL=app.6e55b83d.js.map